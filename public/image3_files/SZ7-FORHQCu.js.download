;/*FB_PKG_DELIM*/

__d("PolarisProfileStoryHighlightsTrayItem_reel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfileStoryHighlightsTrayItem_reel",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"XDTReelCoverMediaClientDict",kind:"LinkedField",name:"cover_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTReelCoverMediaImageVersionClientDict",kind:"LinkedField",name:"cropped_image_version",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfileStoryHighlightSectionText.react",["IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={titleContainer:{cursor:"x1ypdohk",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=j(9),d=a.highlightLabel,e=a.isSmallScreen,f=a.itemTitleXStyle;a=a.storyHighlightsInMetaTags;var g;b[0]!==f?(g=(h||(h=c("stylex")))(f,l.titleContainer),b[0]=f,b[1]=g):g=b[1];b[2]!==e||b[3]!==a||b[4]!==d?(f=e?a==="h2_tag"?k.jsx(c("IGDSText.react").Body2,{elementType:"h2",maxLines:1,zeroMargin:!0,children:d}):k.jsx(c("IGDSText.react").Body2,{maxLines:1,zeroMargin:!0,children:d}):a==="h2_tag"?k.jsx(c("IGDSText.react").Body2Emphasized,{elementType:"h2",maxLines:1,zeroMargin:!0,children:d}):k.jsx(c("IGDSText.react").Body2Emphasized,{maxLines:1,zeroMargin:!0,children:d}),b[2]=e,b[3]=a,b[4]=d,b[5]=f):f=b[5];b[6]!==g||b[7]!==f?(e=k.jsx("div",{className:g,children:f}),b[6]=g,b[7]=f,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("PolarisProfileNewHighlightTrayItem.react",["CometPressable.react","IGDSAddOutline24Icon.react","PolarisNewHighlightsStrings","PolarisProfileStoryHighlightSectionText.react","PolarisStoryRing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=j(26),e=a.avatarSize,f=a.isSmallScreen,g=a.itemTitleXStyle,i=a.itemXStyle;a=a.onClick;var m;b[0]!==e?(m={height:e,width:e},b[0]=e,b[1]=m):m=b[1];m=m;var n;b[2]!==i?(n=(h||(h=c("stylex")))(i),b[2]=i,b[3]=n):n=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i="xamitd3 x1ypdohk x1lliihq x1n2onr6 x87ps6o",b[4]=i):i=b[4];var o;b[5]!==e?(o=k.jsx(c("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:e}),b[5]=e,b[6]=o):o=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e="xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x6s0dn4 x78zum5 xl56j7k",b[7]=e):e=b[7];var p=f?30:44,q;b[8]!==p?(q=k.jsx(c("IGDSAddOutline24Icon.react"),{alt:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:p}),b[8]=p,b[9]=q):q=b[9];b[10]!==m||b[11]!==q?(p=k.jsx("div",{className:e,style:m,children:q}),b[10]=m,b[11]=q,b[12]=p):p=b[12];b[13]!==o||b[14]!==p?(e=k.jsxs("div",{className:i,children:[o,p]}),b[13]=o,b[14]=p,b[15]=e):e=b[15];b[16]!==f||b[17]!==g?(m=k.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT,isSmallScreen:f,itemTitleXStyle:g}),b[16]=f,b[17]=g,b[18]=m):m=b[18];b[19]!==a||b[20]!==e||b[21]!==m?(q=k.jsxs(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:l.pressable,children:[e,m]}),b[19]=a,b[20]=e,b[21]=m,b[22]=q):q=b[22];b[23]!==n||b[24]!==q?(i=k.jsx("div",{className:n,children:q}),b[23]=n,b[24]=q,b[25]=i):i=b[25];return i}g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayItem.next.react",["fbt","CometImage.react","CometPressable.react","CometRelay","PolarisAvatarWithStories.react","PolarisConfig","PolarisProfileStoryHighlightSectionText.react","PolarisProfileStoryHighlightsTrayItem_reel.graphql","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).unstable_useMemoCache,m=k,n={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var e,f=l(34),g=a.avatarSize,k=a.isLoading,o=a.isSmallScreen,p=a.itemTitleXStyle,q=a.itemXStyle,r=a.onClick,s=a.reel$key;a=a.storyHighlightsInMetaTags;var t=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfileStoryHighlightsTrayItem_reel.graphql"),s);f[0]!==r||f[1]!==t.id?(s=function(a){a.stopPropagation(),r(t.id)},f[0]=r,f[1]=t.id,f[2]=s):s=f[2];s=s;var u;f[3]!==g?(u={height:g,width:g},f[3]=g,f[4]=u):u=f[4];u=u;e=(e=t.cover_media)==null?void 0:(e=e.cropped_image_version)==null?void 0:e.url;var v;f[5]!==q?(v=(j||(j=c("stylex")))(q),f[5]=q,f[6]=v):v=f[6];f[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=d("PolarisConfig").isLoggedIn(),f[7]=q):q=f[7];var w;f[8]===Symbol["for"]("react.memo_cache_sentinel")?(w="xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x1lliihq x6ikm8r x10wlt62 x1n2onr6",f[8]=w):w=f[8];if(f[9]!==e||f[10]!==t||f[11]!==g){var x;x=e!=null&&m.jsx(c("CometImage.react"),{alt:h._("__JHASH__ZntYiRyKPAQ__JHASH__",[h._param("username",(x=t.user)==null?void 0:x.username)]),height:g,src:e,testid:void 0,width:g});f[9]=e;f[10]=t;f[11]=g;f[12]=x}else x=f[12];f[13]!==u||f[14]!==x?(e=m.jsx("div",{className:w,style:u,children:x}),f[13]=u,f[14]=x,f[15]=e):e=f[15];f[16]!==k||f[17]!==s||f[18]!==t.id||f[19]!==g||f[20]!==e?(w=m.jsx(c("PolarisAvatarWithStories.react"),{canTabFocus:!0,hasPrideMedia:!1,isLoading:k,isReelSeen:!0,onClick:s,reelId:t.id,showRing:!0,size:g,viewerLoggedIn:q,children:e}),f[16]=k,f[17]=s,f[18]=t.id,f[19]=g,f[20]=e,f[21]=w):w=f[21];f[22]!==t.title||f[23]!==o||f[24]!==p||f[25]!==a?(u=m.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:t.title,isSmallScreen:o,itemTitleXStyle:p,storyHighlightsInMetaTags:a}),f[22]=t.title,f[23]=o,f[24]=p,f[25]=a,f[26]=u):u=f[26];f[27]!==s||f[28]!==w||f[29]!==u?(x=m.jsxs(c("CometPressable.react"),{onPress:s,overlayDisabled:!0,xstyle:n.pressable,children:[w,u]}),f[27]=s,f[28]=w,f[29]=u,f[30]=x):x=f[30];f[31]!==v||f[32]!==x?(q=m.jsx("div",{className:v,children:x}),f[31]=v,f[32]=x,f[33]=q):q=f[33];return q}g["default"]=a}),226);
__d("PolarisProfileStoryHighlightsTrayContent.react",["CometRelay","IGDSBox.react","JSResourceForInteraction","PolarisConfig","PolarisLogger","PolarisProfileNewHighlightTrayItem.react","PolarisProfileStoryHighlightsTrayContentFragment","PolarisProfileStoryHighlightsTrayContentQuery","PolarisProfileStoryHighlightsTrayItem.next.react","PolarisReactRedux.react","PolarisStoryActions","PolarisUA","PolarisVirtualHSnapScroll.react","cr:8393","immutable-4.0.0-rc.9","react","stylex","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=e.useState,n=c("JSResourceForInteraction")("PolarisCreateAndAddHighlightsModal.react").__setRef("PolarisProfileStoryHighlightsTrayContent.react");function a(a){var e=a.initialVisibleItems,f=a.isSmallScreen,g=a.itemTitleXStyle,i=a.itemXStyle,o=a.queryReference,p=a.sizes,q=a.storyHighlightsInMetaTags,r=a.userID;a=a.xstyle;o=d("CometRelay").usePreloadedQuery(c("PolarisProfileStoryHighlightsTrayContentQuery"),o);o=d("CometRelay").usePaginationFragment(c("PolarisProfileStoryHighlightsTrayContentFragment"),o);var s=o.data,t=o.refetch,u=d("PolarisReactRedux.react").useDispatch(),v=l(function(){return s.highlights.edges.map(function(a){return a.node})},[s.highlights]);o=l(function(){return v.map(function(a){return a.id}).filter(Boolean)},[v]);var w=b("cr:8393")(o);o=m(null);var x=o[0],y=o[1],z=k(function(a){y(a);if(w!=null){w(a,function(){y(null)});return}else u(d("PolarisStoryActions").openReelsMedia(d("immutable-4.0.0-rc.9").Seq.Indexed(v.map(function(a){return{id:a.id}})),"reel_highlight_profile",a,"",void 0,!0))},[u,w,v]);o=c("useIGDSLazyDialog")(n);var A=o[0],B=k(function(){d("PolarisLogger").logAction("addHighlightIconClick"),A({onCreateSuccess:function(){t({user_id:r},{fetchPolicy:"network-only"})},userId:r})},[t,A,r]);o=l(function(){var a=v.map(function(a){return j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:p.cardWidth+p.gapWidth/2,children:j.jsx(c("PolarisProfileStoryHighlightsTrayItem.next.react"),{avatarSize:p.avatarSize,isLoading:a.id===x,isSmallScreen:f,itemTitleXStyle:g,itemXStyle:i,onClick:z,reel$key:a,storyHighlightsInMetaTags:q})},a.id)}),b=j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:p.cardWidth+p.gapWidth/2,children:j.jsx(c("PolarisProfileNewHighlightTrayItem.react"),{avatarSize:p.avatarSize,isSmallScreen:f,itemTitleXStyle:g,itemXStyle:i,onClick:B})},"newHighlight");return r===d("PolarisConfig").getViewerId()&&d("PolarisUA").isDesktop()?[].concat(a,[b]):a},[v,p.cardWidth,p.gapWidth,p.avatarSize,f,g,i,B,r,x,z,q]);return o.length===0?null:j.jsx("div",{className:(h||(h=c("stylex")))(a),children:j.jsx(c("PolarisVirtualHSnapScroll.react"),{gutterWidth:p.gutterWidth,initialVisibleItemsGuess:e,itemWidth:p.cardWidth+p.gutterWidth/2,overscan:7,pagerDisabled:f,children:o},"highlights")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BillingWrapperContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();c=b;g["default"]=c}),98);